<html>
    <head>
        <title>Versatile</title>
        <!--這裡是註解，meta name="tile"與meta name="desciption"是goole搜尋下的網頁標題與描述-->
        <meta name="title" content="中央大學附屬中壢高級中學數理資優班成果發表會「Versatile」宣傳網站" />
        
        <meta charset:"utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
        <meta name="language" , content="tw" />
    </head>
    <style>
    body{
        overflow-y: scroll;
        overflow-x: hidden;
        margin:0px;
    }
    @font-face{
        font-family:cute;
        src:url("fonts/NewFont.ttf");
    }
    </style>
    <body>
        
        <div id="root">
            <div class="titleBar">
                <div class = "title_row">
                    <p class="title">中大壢中成果發表會Versatile</p>
                </div>
                <div class="count_text">
                    <p>month</p>
                    <p>day</p>
                    <p>hour</p>
                    <p>min</p>
                    <p>sec</p>
                </div>
                <ul class="count_down">
                    <li>00</li>
                    <li>00</li>
                    <li>00</li>
                    <li>00</li>
                    <li>00</li>
                </ul>
                
                
            </div>
            <style>
                
                .title_row{
                    display:flex;
                    justify-content:center;
                    align-items:center;
                    text-align:center;
                    height:300px;
                }
                .title{
                    
                    font-family:cute;
                    font-size:50px;
                    line-height:100px;
                
                    
                }

                .titleBar ul{
                    display:flex;
                    justify-content:center;
                    align-items:center;
                    text-align:center;
                    height:150px;
                    list-style:none;
                }
                
                .titleBar li{
                    display: inline-block;
                    margin:50px;
                    font-family:cute;
                    font-size:36px;
                    transform:translate(-50%, 0);
                }
                .count_text{
                    height:10px;
                    
                }
                .count_text p{
                    position:absolute;
                    font-family:cute;
                    font-size:36px;
                    left : 50%; 
                    line-height:10px;
                    transform:translate(-50%, 0);
                }
                .count_text p:nth-child(1){
                   margin-left:-272px;
                }
                .count_text p:nth-child(2){
                    margin-left:-136px;
                }
                .count_text p:nth-child(3){
                    
                }
                .count_text p:nth-child(4){
                    margin-left:136px;
                }
                .count_text p:nth-child(5){
                    margin-left:272px;
                }
                
                
                
                
                @media screen and (orientation:portrait){
                    .title{
                        font-size:40px;
                    }
                    .title_row{
                        padding:30% 0 0;
                        height:200px;
                    }
                    .count_text p{
                        position:absolute;
                        font-family:cute;
                        font-size:32px;
                        left : 50%; 
                        line-height:10px;
                        transform:translate(-50%, 0);
                    }
                    .count_text p:nth-child(1){
                        margin-left:-115px;
                        top:385px;
                    }
                    .count_text p:nth-child(2){
                        margin-left:0px;
                        top:385px;
                    }
                    .count_text p:nth-child(3){
                        margin-left:115px;
                        top:385px;
                    }
                    .count_text p:nth-child(4){
                        margin-left:-57px;
                        top:490px;
                    }
                    .count_text p:nth-child(5){
                        margin-left:57px;
                        top:490px;

                    }
                    .titleBar ul{
                        padding:75px 0 0;
                        flex-wrap:wrap;
                        height:200px;
                        
                    }
                    .titleBar li{
                        margin:40px;
                        font-size:32px;
                        line-height:10px;
                        transform:translate(0, 0);
                    }
                }
                @media screen and (orientation:landscape){
                    .title{
                        font-size:40px;
                    }
                }
            </style>
            <script>
                const report = new Date(2024, 4, 27, 8, 0, 0);
                var list = document.querySelectorAll(".count_down li");
                
                timer();
                var timeId = setInterval(timer, 1000);
                    
                function timer(){
                    var time_now = Date.now();
                    var timeDiff = report.getTime() - time_now;
                    let dayNum = Math.floor(timeDiff / 1000 / 60 / 60 / 24);
                    timeDiff -= dayNum * 1000 * 60 * 60 * 24;
                    let hourNum = Math.floor(timeDiff / 1000 / 60 / 60);
                    timeDiff -= hourNum * 1000 * 60 * 60;
                    let minNum = Math.floor(timeDiff / 1000 / 60);
                    timeDiff -= minNum * 1000 * 60;
                    let secNum = Math.floor(timeDiff / 1000);
                    
                    if(dayNum < 10){
                        dayNum = "0" + dayNum;
                    }
                    if(hourNum < 10){
                        hourNum = "0" + hourNum;
                    }
                    if(minNum < 10){
                        minNum = "0" + minNum;
                    }
                    if(secNum < 10){
                        secNum = "0" + secNum;
                    }
                    list[0].innerText = "00";
                    list[1].innerText = dayNum;
                    list[2].innerText = hourNum;
                    list[3].innerText = minNum;
                    list[4].innerText = secNum;
                }
                
            </script>
            <div class="program">
                <div>
                    <table>
                        <tr>
                            <td>13:10~13:30</td>
                            <td align="center">開幕</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td align="center">「乓」然大悟—探討水瓶內乒乓球自高處掉落後反彈飛升的現象</td>
                            <td> <a href="https://www.instagram.com/clhs_219_versatile?igsh=MTlhNTlhend5cGNyYg==">IG</a></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td align="center">應用無人機飛行載具測估桃園藻礁覆蓋率的月際變化</td>
                            <td> <a href="https://www.instagram.com/clhs_219_versatile?igsh=MTlhNTlhend5cGNyYg==">IG</a></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td align="center">巴斯卡四角錐</td>
                            <td> <a href="https://www.instagram.com/clhs_219_versatile?igsh=MTlhNTlhend5cGNyYg==">IG</a></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td align="center">串場表演</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td align="center">「桿」菌入框：ZIF-90對大腸桿菌保護之研究</td>
                            <td> <a href="https://www.instagram.com/clhs_219_versatile?igsh=MTlhNTlhend5cGNyYg==">IG</a></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td align="center">『藻』夕共處—探討滿江紅與念珠藻的共生關係</td>
                            <td> <a href="https://www.instagram.com/clhs_219_versatile?igsh=MTlhNTlhend5cGNyYg==">IG</a></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td align="center">跟隨機器人：隨心所欲，跟著走</td>
                            <td> <a href="https://www.instagram.com/clhs_219_versatile?igsh=MTlhNTlhend5cGNyYg==">IG</a></td>
                        </tr>
                        <tr>
                            <td>14:30～14:50</td>
                            <td align="center">中場休息</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td align="center">活性碳魔法：汙水大變身</td>
                            <td> <a href="https://www.instagram.com/clhs_219_versatile?igsh=MTlhNTlhend5cGNyYg==">IG</a></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td align="center">黑腹果蠅的營養素選擇與生殖生長的表現</td>
                            <td> <a href="https://www.instagram.com/clhs_219_versatile?igsh=MTlhNTlhend5cGNyYg==">IG</a></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td align="center">Complex Power Tower</td>
                            <td> <a href="https://www.instagram.com/clhs_219_versatile?igsh=MTlhNTlhend5cGNyYg==">IG</a></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td align="center">串場表演</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td align="center">菌界交響—蕈類在不同環境下的電訊號變化</td>
                            <td> <a href="https://www.instagram.com/clhs_219_versatile?igsh=MTlhNTlhend5cGNyYg==">IG</a></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td align="center">「直」球「對決」—探討最小平方法和霍夫轉換偵側環境直線的準確率</td>
                            <td> <a href="https://www.instagram.com/clhs_219_versatile?igsh=MTlhNTlhend5cGNyYg==">IG</a></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td align="center">「塑」以千計—探討各類水體中的塑膠微粒以及光譜分析</td>
                            <td> <a href="https://www.instagram.com/clhs_219_versatile?igsh=MTlhNTlhend5cGNyYg==">IG</a></td>
                        </tr>
                        <tr>
                            <td>15:55～16:00</td>
                            <td align="center">閉幕</td>
                        </tr>
                    </table>
                </div>
                <style type="text/css">
                    
                    table {
                        border-collapse: collapse;
                        border: 1px solid black;
                        width:800px;
                        height:600px;
                    }
                
                    td {
                        text-align:center;
                        border: 1px solid black;
                        font-family:cute;
                    }
                    a{
                        text-decoration:none;
                        color:#000000;
                    }
                </style>
            </div>
            <style>
                .program{
                    
                    height:700px;
                    display:flex;
                    padding-top:7%;
                    justify-content:center;
                }
            </style>
            <div class="introduce">
                
                <div class="item" style="left:-100%">
                    <div class="item-title">
                        <p>數學組0</p>
                    </div>
                    <div class="item-text">
                        <p class>在此增加簡介...</p>
                    </div>
                    <div class="pdf-show">
                        <iframe src="https://drive.google.com/file/d/1dusbc-ORDy8fe5BhmITlAvDVBqZ85UZt/preview" width="640" height="300" allow="autoplay"></iframe>
                    </div>
                </div>
                <div class="item" id="current">
                    <div class="item-title">
                        <p>數學組1</p>
                    </div>
                    <div class="item-text">
                        <p class>在此增加簡介...</p>
                    </div>
                    <div class="pdf-show">
                        <iframe src="https://drive.google.com/file/d/1dusbc-ORDy8fe5BhmITlAvDVBqZ85UZt/preview" width="640" height="300" allow="autoplay"></iframe>
                    </div>
                </div>
                <div class="item" style="left:100%">
                    <div class="item-title">
                        <p>數學組2</p>
                    </div>
                    <div class="item-text">
                        <p>在此增加簡介...</p>
                    </div>
                    <div class="pdf-show">
                        <iframe src="https://drive.google.com/file/d/1dusbc-ORDy8fe5BhmITlAvDVBqZ85UZt/preview" width="640" height="300" allow="autoplay"></iframe>
                    </div>
                </div>
                <button class="left">left</button>
                <button class="right">right</button>
            </div>
            <style>
            .introduce{
                position:relative;
                height:800px;
                margin:0;
                padding:0;
                width:100%;
                overflow:hidden;
            }
            .item{
                position:absolute;
                display:block;
                width:100%;
                height:500px;
            }
            .item-title{
                height:75px;
                display:flex;
                align-items:center;
                justify-content:center;
            }
            .item-title p{
                font-size:2em;
                font-family:cute;
            }
            .item-text{
                display:flex;
                
                align-items:center;
                justify-content:center;
            }
            .item-text p{
                font-size:1.5em;
            }
            .pdf-show{
                display:flex;
                align-items:center;
                justify-content:center;
            }
            @media (orientation: portrait){
                .pdf-show iframe{
                    width:100%;
                }
            }
            
            .left:hover{
                background-color:#989898;
            }
            .left:active{
                background-color:#ffffff;
            }
            
            </style>
            <script>
            const speed = 0.05;

            var current = document.querySelector("#current");
            var list_item = document.querySelectorAll('.item');
            var lerping = [];
            var startX = 0;

            function findRole() {
                let Index = -1;
                for (let i = 0; i < list_item.length; i++) {
                    if (list_item[i].id == "current") {
                        Index = i;
                    }
                }
                let output = [];
                if (Index - 1 < 0) {
                    output.push(list_item.length - 1);
                }
                else {
                    output.push(Index - 1);
                }
                output.push(Index)
                if (Index + 1 >= list_item.length) {
                    output.push(0);
                }
                else {
                    output.push(Index + 1);
                }
                return output;
            }
            function start(e) {
                startX = e.targetTouches[0].pageX;
            }
            function move(e) {
                for(let i = 0; i < lerping.length; i++){
                    list_item[lerping[i][0]].style.left = lerping[i][2] + "px";
                    clearInterval(lerping[i][1]);
                }
                lerping = [];
                let Index = findRole();
                //[0,1,2] = [previous, current, next]
                var centerMove = (e.targetTouches[0].pageX - startX);
                list_item[Index[1]].style.left = centerMove + "px";
                if (centerMove < 0) {
                    list_item[Index[0]].style.left = window.innerWidth * -1 +"px";
                    list_item[Index[2]].style.left = centerMove + window.innerWidth + "px";
                }
                else {
                    list_item[Index[2]].style.left = window.innerWidth + "px";
                    list_item[Index[0]].style.left = centerMove - window.innerWidth + "px";
                }

            }
            function lerp(a, b, alpha) {
                let dist = (b - a);
                
                return a + alpha * dist;
            }
            function lerpMove(listI, endPos) {

                //list_item[listI].style.left = endPos + "px";

                let startPos = list_item[listI].offsetLeft;
                let timerId = setInterval(function () {
                    list_item[listI].style.left = lerp(list_item[listI].offsetLeft, endPos, speed) + "px";
                    lerping.push([listI, timerId, endPos]);
                    if (Math.abs(list_item[listI].offsetLeft - endPos) < 30) {
                        list_item[listI].style.left = list_item[listI].offsetLeft+0.1 * (endPos - startPos) + "px";
                        
                        if(Math.abs(list_item[listI].offsetLeft - endPos) < 0.1
                           || (list_item[listI].offsetLeft - endPos) * (startPos - endPos) < 0){
                            list_item[listI].style.left = endPos + "px";
                            
                            for(let i = 0; i < lerping.length; i++){
                            if(lerping[i][1] == timerId){
                                lerping.splice(i, i);
                            }
                        }
                        clearInterval(timerId);
                        }
                        
                    }
                }, 2);
            }
            function back() {
                let Index = findRole();

                lerpMove(Index[1], 0);
                lerpMove(Index[0], window.innerWidth * -1);
                lerpMove(Index[2], window.innerWidth);
            }
            
            function end(e) {

                let Index = findRole();

                if (list_item[Index[1]].offsetLeft >= 0.3 * window.innerWidth) {

                    lerpMove(Index[1], window.innerWidth);
                    lerpMove(Index[0], 0);
                    
                    list_item[Index[0]].id = "current";
                    list_item[Index[1]].id = "";
                    list_item[Index[0]].addEventListener('touchstart', start);
                    list_item[Index[0]].addEventListener('touchmove', move);
                    list_item[Index[0]].addEventListener('touchend', end);
                    list_item[Index[1]].removeEventListener('touchstart', start);
                    list_item[Index[1]].removeEventListener('touchmove', move);
                    list_item[Index[1]].removeEventListener('touchend', end);
                }
                else if (this.offsetLeft <= -0.3 * window.innerWidth) {
                    lerpMove(Index[1], window.innerWidth * -1);
                    lerpMove(Index[2], 0);
                    list_item[Index[2]].id = "current";
                    list_item[Index[1]].id = "";
                    list_item[Index[2]].addEventListener('touchstart', start);
                    list_item[Index[2]].addEventListener('touchmove', move);
                    list_item[Index[2]].addEventListener('touchend', end);
                    list_item[Index[1]].removeEventListener('touchstart', start);
                    list_item[Index[1]].removeEventListener('touchmove', move);
                    list_item[Index[1]].removeEventListener('touchend', end);
                }
                else {
                    back();
                }
            }
            //https://stackoverflow.com/questions/5498934/detect-change-in-orientation-using-javascript
           window.addEventListener("DOMContentLoaded", () =>{
               const screenOrientation = screen.orientation.type;
               var text = document.querySelector(".title");
               if (screen && screen.orientation !== null) {
                   
                    window.onorientationchange = function (event) {
                        let Index = findRole();
                        list_item[Index[1]].style.left = 0 + "px";
                        list_item[Index[0]].style.left = 100 * -1 + "%";
                        list_item[Index[2]].style.left = 100 + "%";
                    }

               }
               
               
            } );
        
           /*if ("onorientationchange" in window) {
                window.onorientationchange = function (event) {
                    let Index = findRole();
                    list_item[Index[1]].style.left = 0 + "px";
                    list_item[Index[0]].style.left = window.innerWidth * -1 + "px";
                    list_item[Index[2]].style.left = window.innerWidth + "px";

                }
            } else if ("screen" in window && "orientation" in window.screen) {
                window.screen.orientation.addEventListener("change", function (e) {
                    let Index = findRole();
                    list_item[Index[1]].style.left = 0 + "px";
                    list_item[Index[0]].style.left = window.innerWidth * -1 + "px";
                    list_item[Index[2]].style.left = window.innerWidth + "px";
                }, false);
            }*/
            
            current.addEventListener('touchstart', start);
            current.addEventListener('touchmove', move);
            current.addEventListener('touchend', end);

        </script>
            <div class="About-us">
                <div class = "About-title">
                    <p>About us</p>
                </div>
                <ul class = "About-content">
                    <li>主辦單位：國立中央大學附屬中壢高中</li>
                    <li>指導單位：</li>
                    <li>協辦單位：</li>
                    <li>贊助單位：逗點文創事業有限公司</li>
                    <li>校網網址：</li>
                </ul>
            </div>
            <style>
            .About-us{
                background:#4683B7;
                height:300px;
            }
            .About-title{
                height:75px;
                display:flex;
                align-items:center;
            }
            .About-us p {
                padding-top:2%;
                margin-left:20px;
                font-family:cute;
                font-size:24px;
                color:#FFFFFF;
            }
            .About-us li{
                font-family:cute;
                color:#FFFFFF;
            }
            </style>
        </div>
    </body>
</html>
